test_that("handling accents without stringi", {
  mockery::stub(ascii, "rlang::is_installed", FALSE)

  expect_equal(ascii("á"), "a")
  expect_equal(ascii("à"), "a")
  expect_equal(ascii("â"), "a")
  expect_equal(ascii("ä"), "a")
  expect_equal(ascii("é"), "e")
  expect_equal(ascii("è"), "e")
  expect_equal(ascii("ê"), "e")
  expect_equal(ascii("ë"), "e")
  expect_equal(ascii("í"), "i")
  expect_equal(ascii("ì"), "i")
  expect_equal(ascii("î"), "i")
  expect_equal(ascii("ï"), "i")
  expect_equal(ascii("ó"), "o")
  expect_equal(ascii("ò"), "o")
  expect_equal(ascii("ô"), "o")
  expect_equal(ascii("ö"), "o")
  expect_equal(ascii("ú"), "u")
  expect_equal(ascii("ù"), "u")
  expect_equal(ascii("û"), "u")
  expect_equal(ascii("ü"), "u")
  expect_equal(ascii("ẃ"), "w")
  expect_equal(ascii("ẁ"), "w")
  expect_equal(ascii("ŵ"), "w")
  expect_equal(ascii("ẅ"), "w")
  expect_equal(ascii("ý"), "y")
  expect_equal(ascii("ỳ"), "y")
  expect_equal(ascii("ŷ"), "y")
  expect_equal(ascii("ÿ"), "y")

  expect_equal(ascii("Á"), "a")
  expect_equal(ascii("À"), "a")
  expect_equal(ascii("Â"), "a")
  expect_equal(ascii("Ä"), "a")
  expect_equal(ascii("É"), "e")
  expect_equal(ascii("È"), "e")
  expect_equal(ascii("Ê"), "e")
  expect_equal(ascii("Ë"), "e")
  expect_equal(ascii("Í"), "i")
  expect_equal(ascii("Ì"), "i")
  expect_equal(ascii("Î"), "i")
  expect_equal(ascii("Ï"), "i")
  expect_equal(ascii("Ó"), "o")
  expect_equal(ascii("Ò"), "o")
  expect_equal(ascii("Ô"), "o")
  expect_equal(ascii("Ö"), "o")
  expect_equal(ascii("Ú"), "u")
  expect_equal(ascii("Ù"), "u")
  expect_equal(ascii("Û"), "u")
  expect_equal(ascii("Ü"), "u")
  expect_equal(ascii("Ẃ"), "w")
  expect_equal(ascii("Ẁ"), "w")
  expect_equal(ascii("Ŵ"), "w")
  expect_equal(ascii("Ẅ"), "w")
  expect_equal(ascii("Ý"), "y")
  expect_equal(ascii("Ỳ"), "y")
  expect_equal(ascii("Ŷ"), "y")
  expect_equal(ascii("Ÿ"), "y")
})
